
view "<%= name %>" {
<%- if not match_clients.empty? -%>
	match-clients {
<%- match_clients.each do |match_client| -%>
		<%= match_client %>;
<%- end -%>
	};
<%- end -%>
<%- if not match_destinations.empty? -%>
	match-destinations {
<%- match_destinations.each do |match_destination| -%>
		<%= match_destination %>;
<%- end -%>
	};
<%- end -%>
	recursion <%= recursion ? 'yes' : 'no' %>;
<%- if recursion -%>
<%- if scope.lookupvar('osfamily') == 'Debian' -%>
	include "<%= confdir %>/named.conf.default-zones";
<%- end -%>
<%- end -%>

<%- zones.each do |zone| -%>
	include "<%= confdir %>/zones/${zone}.conf";
<%- end -%>
};
